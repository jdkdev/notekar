{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../_layout.svelte",
    "../../_fallback.svelte",
    "../../dashboard.svelte",
    "../../AceEditor.svelte",
    "../../Field.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import { auth, currentUser } from \"@frontierjs/frontend\";\n  import { goto, isActive } from \"$router\";\n\n  import Header from \"$c/Header.svelte\";\n  import Footer from \"$c/Footer.svelte\";\n\n  // Handling Auth\n  //console.log($auth)\n  let loginRoute = \"/login\";\n  if (!$currentUser.email && !$isActive(loginRoute))\n    $auth.logout(loginRoute, $goto);\n  // Handling Auth\n</script>\n\n<style>\n  main {\n    overflow: hidden;\n  }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wYWdlcy9fbGF5b3V0LnN2ZWx0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0VBQ0U7SUFDRSxnQkFBZ0I7RUFDbEIiLCJmaWxlIjoic3JjL3BhZ2VzL19sYXlvdXQuc3ZlbHRlIiwic291cmNlc0NvbnRlbnQiOlsiXG4gIG1haW4ge1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIH1cbiJdfQ== */</style>\n\n<main class=\" sm-display-grid\">\n  <Header />\n  <slot />\n  <Footer />\n</main>\n",
    "<script>\n    import { url } from '$router'\n</script>\n\n<style>\n    .c-404 {\n        text-align: center;\n        padding: 8rem 0;\n    }\n    h1 {\n        font-size: 12.8rem;\n        font-weight: 500;\n        color: #000;\n    }\n\n    @media (prefers-color-scheme: dark) {\n        h1 {\n            color: #FFF;\n        }\n    }\n    \n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wYWdlcy9fZmFsbGJhY2suc3ZlbHRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7SUFDSTtRQUNJLGtCQUFrQjtRQUNsQixlQUFlO0lBQ25CO0lBQ0E7UUFDSSxrQkFBa0I7UUFDbEIsZ0JBQWdCO1FBQ2hCLFdBQVc7SUFDZjs7SUFFQTtRQUNJO1lBQ0ksV0FBVztRQUNmO0lBQ0oiLCJmaWxlIjoic3JjL3BhZ2VzL19mYWxsYmFjay5zdmVsdGUiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAuYy00MDQge1xuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIHBhZGRpbmc6IDhyZW0gMDtcbiAgICB9XG4gICAgaDEge1xuICAgICAgICBmb250LXNpemU6IDEyLjhyZW07XG4gICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgIGNvbG9yOiAjMDAwO1xuICAgIH1cblxuICAgIEBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcbiAgICAgICAgaDEge1xuICAgICAgICAgICAgY29sb3I6ICNGRkY7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4iXX0= */</style>\n\n<div class=\"c-404\">\n    <h1>404</h1>\n    <p>Page not found.</p>\n    <p><a href={$url('../')}>Go back</a></p>\n</div>\n",
    "<script>\n  import { ajx } from \"$frontier\";\n  import { onMount } from \"svelte\";\n  import AceEditor from \"$c/AceEditor.svelte\";\n  import { format, fromUnixTime } from \"date-fns\";\n  import { Field } from \"$frontier-c\";\n\n  let EditSession = require(\"ace/edit_session\").EditSession;\n  let editor = {};\n  let editoroptions = {\n    mode: \"markdown\",\n    // theme: \"solarized_dark\",\n    // theme: \"tomorrow_night_eighties\",\n    // theme: \"terminal\",\n    theme: \"twilight\",\n    fontSize: 16,\n    fontFamily: \"monospace\",\n    highlightActiveLine: false,\n    highlightGutterLine: false\n  };\n  let file = { email: \"jordan+10@knight.works\", password: \"\", site: \"\" };\n  let files = [];\n  let newFileView = false;\n  const markdownIt = new markdownit();\n  $: term = \"\";\n  $: filteredFiles = files.filter(file => {\n    if (term[0] == \":\") {\n      return file.contents.includes(term.substr(1));\n    } else return file.name.includes(term);\n  });\n  $: currentFile = { contents: \"\", compiled: \"\" };\n  $: currentMarkdown = markdownIt.render(currentFile.contents);\n\n  let renderedTemplate = function(data) {\n    //Can compiled be currentMarkdown?\n    var compiled = markdownIt.render(data);\n    currentFile.contents = data;\n    currentFile.compiled = compiled;\n  };\n\n  // move validation to some higher function so that mount becomes\n  onMount(() => {\n    loadEditor();\n    getFiles();\n  });\n  function loadEditor() {\n    // editor = this.$children[0].editor;\n    editor = ace.edit(\"editor\");\n    setEditorToMd();\n  }\n\n  function setEditorToMd() {\n    setupEditor(currentFile.contents, \"markdown\", editoroptions.theme);\n  }\n\n  function setupEditor(value, mode, theme = \"solarized_dark\") {\n    let session = new EditSession(value);\n    editor.setOptions(editoroptions);\n    editor.setSession(session);\n    editor.session.setMode(`ace/mode/${mode}`);\n    editor.setTheme(`ace/theme/${theme}`);\n    editor.setKeyboardHandler(\"ace/keyboard/vim\");\n    // editor.resize();\n  }\n  function updateMarkup({ detail }) {\n    // markup = detail;\n    renderedTemplate(detail);\n  }\n\n  let getFiles = async function(withDeleted = \"\") {\n    let res = await ajx.get(\"/files\" + withDeleted);\n\n    files = res.data.filter(file => file.date_added !== null);\n  };\n\n  let deactivate = async function(id) {\n    let res = await ajx.destroy(\"/files/\" + id);\n    files = res.ok ? files.filter(u => u.id !== id) : files;\n  };\n\n  let reactivate = async function(id) {\n    let res = await ajx.restore(\"/files/\" + id);\n    files = files.map(f => (f.id === id ? res : f));\n  };\n\n  let save = async function() {\n    console.log(currentFile);\n    let res = await ajx.patch(\"/files/\" + currentFile.id, {\n      data: currentFile\n    });\n    console.log(res);\n    // files = res.error ? files : files.concat([res]);\n  };\n  let edit = function(file) {\n    currentFile = file;\n    setupEditor(currentFile.contents, \"markdown\", editoroptions.theme);\n  };\n</script>\n\n<style>\n  #file-editor {\n    min-width: 60vw;\n    overflow-y: scroll;\n    max-height: 60vh;\n    padding-bottom: 3rem;\n    margin-bottom: 5rem;\n  }\n  #files-list {\n    overflow-y: scroll;\n    max-height: 60vh;\n    padding-right: 1rem;\n    margin-bottom: 1rem;\n  }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9wYWdlcy9kYXNoYm9hcmQuc3ZlbHRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7RUFDRTtJQUNFLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLG9CQUFvQjtJQUNwQixtQkFBbUI7RUFDckI7RUFDQTtJQUNFLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsbUJBQW1CO0lBQ25CLG1CQUFtQjtFQUNyQiIsImZpbGUiOiJzcmMvcGFnZXMvZGFzaGJvYXJkLnN2ZWx0ZSIsInNvdXJjZXNDb250ZW50IjpbIlxuICAjZmlsZS1lZGl0b3Ige1xuICAgIG1pbi13aWR0aDogNjB2dztcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgbWF4LWhlaWdodDogNjB2aDtcbiAgICBwYWRkaW5nLWJvdHRvbTogM3JlbTtcbiAgICBtYXJnaW4tYm90dG9tOiA1cmVtO1xuICB9XG4gICNmaWxlcy1saXN0IHtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgbWF4LWhlaWdodDogNjB2aDtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxcmVtO1xuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XG4gIH1cbiJdfQ== */</style>\n\n<section class=\"gx-span-full p\">\n  <div>\n    <button class=\"secondary\" on:click={() => getFiles('/all')}>\n      Show All\n    </button>\n    <button class=\"secondary\" on:click={() => getFiles()}>Show Active</button>\n\n    <button class=\"secondary\" on:click={save}>Save</button>\n    <button class=\"\" on:click={() => (newFileView = !newFileView)}>New</button>\n    {#if newFileView}\n      <div>\n        <Field name=\"email\" bind:value={file.email} />\n        <Field name=\"password\" type=\"password\" bind:value={file.password} />\n        <Field name=\"site\" bind:value={file.site} />\n        <button on:click={save}>Save</button>\n      </div>\n    {/if}\n  </div>\n\n  <div class=\"core lm-display-grid\">\n    <Field name=\"search\" bind:value={term} classes=\"gx-span-full\" />\n    <div\n      tabindex=\"-1\"\n      id=\"files-list\"\n      class=\"grid-all gx-span-3 padding-bottom-jordan\">\n      {#each filteredFiles as file (file.id)}\n        <article class=\"mb\">\n          <span class=\"\">{file.name}</span>\n          <span class=\"display-none sm-display lm-display-none\">\n            {file.perm}\n          </span>\n          <span class=\"display-none sm-display lm-display-none\">\n            {format(new Date(file.stats.ctime), 'MM/dd/yyyy')}\n          </span>\n          <span class=\"ml-auto pr\">\n            {#if file.is_deleted}\n              <button on:click={() => reactivate(file.id)}>Reactivate</button>\n            {:else}\n              <button\n                class=\"link\"\n                on:focus={() => edit(file)}\n                on:click={() => edit(file)}>\n                Edit\n              </button>\n            {/if}\n          </span>\n        </article>\n      {:else}\n        <div>No files found</div>\n      {/each}\n    </div>\n    <div id=\"file-editor\" class=\"gx-span-half\">\n      <AceEditor on:input={updateMarkup} />\n    </div>\n  </div>\n</section>\n<!-- <section id=\"output\" class=\"max-w-5xl pr-20 mx-20\">\n  <article>\n    {@html currentMarkdown}\n  </article>\n</section> -->\n",
    "<script>\n  import { onMount, createEventDispatcher } from \"svelte\";\n  export let value = \"Nothing here\";\n  export let id;\n  export let opts;\n\n  let editor = {};\n  let div;\n  let oldValue = \"\";\n  const dispatch = createEventDispatcher();\n\n  /*\n  this was a vue watch function\n  $: value = function() { \n      //  two way binding – emit changes to parent\n      dispatch('input', value)\n      \n      //  update value on external model changes\n      if (oldValue !== value) { \n          editor.setValue(value, 1)\n      }\n  }\n  */\n  onMount(() => {\n    createEditor();\n  });\n\n  function createEditor() {\n    editor = window.ace.edit(div);\n\n    editor.$blockScrolling = Infinity; //  deprecation fix\n\n    const session = editor.getSession();\n    session.on(\"changeAnnotation\", () => {\n      //  ignore doctype warnings\n      const a = session.getAnnotations();\n      const b = a.slice(0).filter(item => item.text.indexOf(\"DOC\") == -1);\n      if (a.length > b.length) session.setAnnotations(b);\n    });\n    //  editor options\n    let options = opts || {};\n\n    //  opinionated option defaults\n    options.maxLines = options.maxLines || Infinity;\n    options.printMargin = options.printMargin || false;\n    options.highlightActiveLine = options.highlightActiveLine || false;\n\n    //  hide cursor\n    if (options.cursor === \"none\" || options.cursor === false) {\n      editor.renderer.$cursorLayer.element.style.display = \"none\";\n      delete options.cursor;\n    }\n\n    //  add missing mode and theme paths\n    if (options.mode && options.mode.indexOf(\"ace/mode/\") === -1) {\n      options.mode = `ace/mode/${options.mode}`;\n    }\n    if (options.theme && options.theme.indexOf(\"ace/theme/\") === -1) {\n      options.theme = `ace/theme/${options.theme}`;\n    }\n    console.log({ editor });\n    editor.setOptions(options);\n    // editor.resize();\n\n    //  set model value\n    //  if no model value found – use slot content\n    if (!value || value === \"\") dispatch(\"input\", editor.getValue());\n    else editor.setValue(value + \"hello\", -1);\n\n    //  editor value changes\n    editor.on(\"change\", () => {\n      console.log(\"changing values\");\n      console.log(editor.getValue());\n      //  oldValue set to prevent internal updates\n      value = oldValue = editor.getValue();\n      dispatch(\"input\", value);\n    });\n  }\n  function getEditor() {\n    return editor;\n  }\n</script>\n\n<style>\n  #editor {\n    min-height: 500px;\n  }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9jb21wb25lbnRzL0FjZUVkaXRvci5zdmVsdGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtFQUNFO0lBQ0UsaUJBQWlCO0VBQ25CIiwiZmlsZSI6InNyYy9jb21wb25lbnRzL0FjZUVkaXRvci5zdmVsdGUiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgI2VkaXRvciB7XG4gICAgbWluLWhlaWdodDogNTAwcHg7XG4gIH1cbiJdfQ== */</style>\n\n<div id=\"editor\" class=\"flex-grow\" bind:this={div}>{value}</div>\n",
    "<script>\n    export let type = 'text'\n    export let value\n    export let name\n    export let label = name.replace('_', ' ')\n    export let placeholder = name\n    export let errors = []\n    export let help = ''\n    export let required = false\n    export let classes = \"\"\n</script>\n\n<fieldset class=\"field {classes}\">\n    <div class='control'>\n        {#if type === 'text'}\n            <input type='text' {name} bind:value {placeholder} {required}>\n        {:else if type === 'email'}\n            <input type='email' {name} bind:value {placeholder} {required}>\n        {:else if type === 'password'}\n            <input type='password' {name} bind:value {placeholder} {required}>\n        {:else if type === 'hidden'}\n            <input type='hidden' {name} bind:value={value} {placeholder}>\n        {:else}\n        <input type='text' {name} bind:value={value} {placeholder} {required}>\n        {/if}\n        {#if label != 'display-none'}\n            <label for={name}>{label}</label>\n        {/if}\n    </div>\n    {#if errors.length}\n        <p class='error'>{errors[0]}</p>\n    {:else if help}\n        <p class='help'>{help}</p>\n    {/if}\n</fieldset>\n\n<style>\n    input::-webkit-input-placeholder {\n        text-transform: capitalize;\n    }\ninput::-moz-placeholder {\n        text-transform: capitalize;\n    }\ninput:-ms-input-placeholder {\n        text-transform: capitalize;\n    }\ninput::-ms-input-placeholder {\n        text-transform: capitalize;\n    }\ninput::placeholder, label {\n        text-transform: capitalize;\n    }\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9AZnJvbnRpZXJqcy9mcm9udGVuZC9jb21wb25lbnRzL0ZpZWxkLnN2ZWx0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0lBQ0k7UUFDSSwwQkFBMEI7SUFDOUI7QUFGQTtRQUNJLDBCQUEwQjtJQUM5QjtBQUZBO1FBQ0ksMEJBQTBCO0lBQzlCO0FBRkE7UUFDSSwwQkFBMEI7SUFDOUI7QUFGQTtRQUNJLDBCQUEwQjtJQUM5QiIsImZpbGUiOiJub2RlX21vZHVsZXMvQGZyb250aWVyanMvZnJvbnRlbmQvY29tcG9uZW50cy9GaWVsZC5zdmVsdGUiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICBpbnB1dDo6cGxhY2Vob2xkZXIsIGxhYmVsIHtcbiAgICAgICAgdGV4dC10cmFuc2Zvcm06IGNhcGl0YWxpemU7XG4gICAgfVxuIl19 */</style>\n"
  ],
  "names": [],
  "mappings": "AAgBE,IAAI,eAAC,CAAC,AACJ,QAAQ,CAAE,MAAM,AAClB,CAAC;ACbC,MAAM,eAAC,CAAC,AACJ,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,IAAI,CAAC,CAAC,AACnB,CAAC,AACD,EAAE,eAAC,CAAC,AACA,SAAS,CAAE,OAAO,CAClB,WAAW,CAAE,GAAG,CAChB,KAAK,CAAE,IAAI,AACf,CAAC,AAED,MAAM,AAAC,uBAAuB,IAAI,CAAC,AAAC,CAAC,AACjC,EAAE,eAAC,CAAC,AACA,KAAK,CAAE,IAAI,AACf,CAAC,AACL,CAAC;ACiFH,YAAY,eAAC,CAAC,AACZ,SAAS,CAAE,IAAI,CACf,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,IAAI,CAChB,cAAc,CAAE,IAAI,CACpB,aAAa,CAAE,IAAI,AACrB,CAAC,AACD,WAAW,eAAC,CAAC,AACX,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,IAAI,CAChB,aAAa,CAAE,IAAI,CACnB,aAAa,CAAE,IAAI,AACrB,CAAC;AC5BD,OAAO,cAAC,CAAC,AACP,UAAU,CAAE,KAAK,AACnB,CAAC;ACjDC,mBAAK,2BAA2B,AAAC,CAAC,AAC9B,cAAc,CAAE,UAAU,AAC9B,CAAC,AACL,mBAAK,kBAAkB,AAAC,CAAC,AACjB,cAAc,CAAE,UAAU,AAC9B,CAAC,AACL,mBAAK,sBAAsB,AAAC,CAAC,AACrB,cAAc,CAAE,UAAU,AAC9B,CAAC,AACL,mBAAK,uBAAuB,AAAC,CAAC,AACtB,cAAc,CAAE,UAAU,AAC9B,CAAC,AACL,mBAAK,aAAa,CAAE,KAAK,cAAC,CAAC,AACnB,cAAc,CAAE,UAAU,AAC9B,CAAC"
}